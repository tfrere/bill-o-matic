$base-index: 2000;
$base-color: color("primary", "base");
//$number-of-links: 3;
$hover-translate-value: 40px;
$hover-bracket-offset: 100px;

.nav-wrapper {
	overflow:hidden;
	visibility: hidden;
	z-index: $base-index;

	.nav-info {
		opacity:1;
		position:fixed;
		transition:transform 200ms ease;
		transform:translateX(0);
		top: 26px;
		right:100px;
		z-index: $base-index;
		&.active {
			float:left;
			transform:translateX($text-size / 2);
			opacity:0;
		}
	}
	.nav-button {
		cursor:pointer;
		position:fixed;
		top:30px;
		right:40px;
		z-index: $base-index;
		width:44px;
		height:44px;
	}
	.nav-overlay {
		z-index: $base-index - 3;
		position:fixed;
		border-radius:50%;
		width:40px;
		height:40px;
		top:40px;
		right:40px;
		background-color: rgba($base-color,1);
		background: -webkit-linear-gradient(bottom, rgba(color("primary","darken-2"), 0.97) 0%, rgba(color("primary","lighten-2"), 0.97) 100%);
		transition: all 400ms ease-in-out;
		transform:scale(0);
		opacity:0;
	}
	
	.nav {
		z-index: $base-index - 2;
		position:fixed;
		width:100%;
		height:100%;
		display:flex;
		visibility:hidden;
		opacity:0;
		transition: opacity 100ms ease-in-out;
		transition-delay:0ms;

		div {
			
			text-align: center;
			width:100%;
			ul {
				width:100%;
			}
			li {
				width:100%;
				margin-top:8px;
				a {
					//text-transform: uppercase;
					color:white;
					@include modular-scale(4, $title-size, $ratio);
					font-family: $nav-font;
					font-weight: 300;
					position: relative;
					display: inline-block;
					width:100%;
					position:relative;
					&::before,
					&::after {
						content: '';
						height: 1px;
						width: 0%;
						background-color: color("primary", "lighten-2");
						margin-top: -5px;
						display: block;
						transition: width 0.3s ease;
						position: absolute;
						top: 45px;
					}

					&::before {
						left:0;
						margin-right:20px;
					}

					&::after {
						right:0;
						margin-left:20px;
					}
				}
				&.active a {
					opacity:1!important;
				}
				&.deployed a::before,
				&.deployed a::after {
					width: 35%;
				}
			}
			margin: auto;
		}
	}
	&.displayed {
		visibility: visible;
		.nav-button {
			i {
				opacity:0.8;
				transform:scale(1) rotate(0deg);
			}
			&:hover i {
				opacity:1;
			}
		}
	}
	&.active {
		visibility: visible;
		.nav-button { 
			i {
				opacity:0;
				transform:scale(1) rotate(360deg);
			}
			div {
				opacity:0.8;
				&:before {
					transform:rotate(135deg);
				}
				&:after {
					transform:rotate(-135deg);
				}
			}
			&:hover i {
				opacity:0;
			}
			&:hover div {
				opacity:1;
			}
		}
		.nav {
			opacity:1;
			transition-delay:350ms;
			visibility:visible;
			i {
				padding-left:14px;
				padding-right:14px;
			}
		}
		.nav-overlay {
			opacity:1;
			transform:scale(100);
		}
	}

	.nav {
		display:flex;
	}
	h1,h2,h3,h4,h6,p, i {
		color: white;
		text-align: center;
	}
	ul li a{
		transition: all 200ms ease-in;
		opacity:0;
	}

	&.active {
		ul li a{
			opacity:0.4;
			transition-delay: 0s;
			&:hover {
				opacity:0.8;

			}
		}
	}
	footer {
		position:fixed;
		bottom:0;
		left:$text-size * 3;
		right:$text-size * 3;
		padding:$text-size * 2 0 $text-size * 2 0;
		text-align: left;
		&:before {
			content:"";
			position:absolute;
			top:0;
			left:0;
			width:100%;
			height:1px;
			border-bottom: 1px solid #68ceb3;
			background-color: #5db39c;
		}
		a {
			font-style: italic;
			color: color("primary", "darken-3");
			border-bottom: 1px solid color("primary", "darken-1");
			margin-right:$text-size;
			&:focus, &:hover {
				text-decoration: none;
				border-bottom: 1px solid color("primary", "darken-2");
			}
			&.right {
				float:right;
				margin-right:0;
				margin-left:$text-size;
			}
		}
	}
}

.nav-mobile-gradient {
	width:100%;
	height:100px;
	background-color: white;
	position:fixed;
	z-index: $base-index - 5;
	box-shadow: 0 0 5px 0 rgba(0,0,0,.15);
}

.nav-back {
	position:fixed;
	cursor:pointer;
	top:32px;
	left:40px;
	z-index: $base-index - 4;
	transition:all 200ms ease;
	h5 {
		margin-left:65px;
		margin-top:11px;
		display:none;
	}
	.back-arrow {
		float:left;
		width:46px;
		height:38px;
		background-image: url("../images/portfolio/svgs/back.svg");
		background-size: cover;
	}
	&:hover {
		transform:translateX(-10px);
	}
}

.nav-typo {
	font-family: $nav-font;
	color: $base-color;
	text-transform: uppercase;
	letter-spacing: .3em;
}



.alternative-nav {
	display:block;
	position:fixed;
	top:25px;
	right:25px;
	z-index: $base-index + 10;
	li {
		display:inline-block;
		margin-right: 20px;
		a {
			font-weight: 200;
			opacity:0.3;
			letter-spacing: .15em;
			transition: all .35s ease;
			&:hover {
				opacity:0.8;
			}
			&.active {
				opacity:1;
			}
		}
	}
}

@include phablet {
	.nav-mobile-gradient {
		height:0px!important;
		box-shadow: none;
		&:after {
			position:fixed;
			top:0px;
			content:"";
			width:100%;
			height:50px;
			background: linear-gradient(to bottom, rgba(255,255,255, 0.901961) 10%, rgba(255,255,255,0) 100%);
		}
	}
	.nav div ul li a {@include modular-scale(4, $title-size, $ratio);}
	.nav-back h5 {
		display:block!important;
	}
}