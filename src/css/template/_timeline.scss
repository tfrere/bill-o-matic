$circle-size: 15px;
$circle-hover-ratio: 1.5;
$border-ratio: 1;
$dash-lenght: 50px;
$base-index: 0;
$line-color: rgba(0,0,0,0.2);

.timeline {
	margin-top:80px;
}

.cell {
	width: 80%;
	margin: 0 auto;
	:before {
		display:none;
	}
	h2 {
		display: inline-block;
	}
}

@include phablet {

	.timeline {
		width: 80%;
		margin: 0 auto;
		margin-top:150px;
		position:relative;
		.line {
			content:"";
			z-index: $base-index - 2;
			position:absolute;
			width: 50%;
			top: 0px;
			left:0;
			height:100%;
			margin-top:calc(9% - 16px);
			border-right:1px solid $line-color;
		}

		.cell {
			opacity:0;
			transition:all 200ms ease;
			.data {
				transition:all 500ms ease;
				h2,h5,p,span {
					opacity:1;
				}
			}
			h2{
				font-family: "Libre Baskerville"!important;
				text-transform: uppercase;
				letter-spacing: .1rem;
				margin-bottom:$text-size * 2;
				
				display:inline;
				background-image: linear-gradient(180deg,rgba(0, 0, 0, 0) 50%,color("primary", "lighten-4") 0);
				background-size: 0 100%;
				background-repeat: no-repeat;
				text-decoration: none;
				transition: background-size .4s ease;

			}
			&>div:hover h2 {
				background-size: 100% 100%;
				cursor: pointer;
			}
			h5 {
				//font-weight: bold;
				font-style: italic;
				letter-spacing: .05rem;
				font-family: "Libre Baskerville"!important;
				margin-bottom:$text-size * 2;
			}
			p {
				margin-bottom:$text-size * 2;
			}
			span {
				color:color("grey", "base");
			}
			text-align:left;
			width:50%;
			position:relative;
			z-index: $base-index + 2;
			&:before {
				content:"";
				z-index: $base-index - 1;
				position:absolute;
				width:$dash-lenght;
				top:0;
				left:0;
				height:1px;
				margin-top:75px;
				border-top:1px solid $line-color;
			}
			.circle {
				z-index: $base-index + 2;
				width:$circle-size;
				height:$circle-size;
				border-radius: 50%;
				background-color: rgba(color("primary","darken-3"), 0.9);
				position:absolute;
				top:75px;
				left:50%;
				opacity: 0.5;
				margin-top:-$circle-size / 2;
				margin-left:-$circle-size / 2;
				box-shadow:
				    0 0 0 ($circle-size / 2) * $border-ratio / 1.68 rgba(color("primary","darken-2"),0.6),
				    0 0 0 ($circle-size / 1) * $border-ratio / 1.68 rgba(color("primary","darken-1"),0.6);
				transition:all 100ms ease-in-out;

			}
			&>div:hover .circle{
				width:$circle-size * $circle-hover-ratio;
				height:$circle-size * $circle-hover-ratio;
				margin-top:-$circle-size * $circle-hover-ratio / 2;
				margin-left:-$circle-size * $circle-hover-ratio / 2;
			}
		}

		.cell:nth-child(2n) {
			padding-left:55%;
			&:before {
				margin-left:50%;
			}
			.clicked .data{
				transform:translateX(1200px)!important;
				h2,h5,p,span {
					opacity:0;
				}
			}
		}
		.cell:nth-child(2n + 1) {
			text-align:right;
			padding-right:55%;
			&:before {
				margin-left:calc(50% - #{$dash-lenght});
			}
			.clicked .data{
				transform:translateX(-100px)!important;
				h2,h5,p,span {
					opacity:0;
				}
			}
		}
	}

	.timeline.clicked {
		.cell>div:not(.clicked) {
			opacity:0;
		
		}
		.cell>div.clicked {
			h2,h5,p,span {
				transition:all 100ms ease;
				opacity:1;
			}
		
		}
		header, .circle, .cell:before {
			opacity:0!important;
		}

		.circle {
			transform:scale(0);
		}
		.line {
			opacity:0!important;
		}
	}

}
